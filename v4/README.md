주요 수정 포인트 :
1. SQL에서 ARRAY의 형태로 저장하고 싶어 MySQL 대신 PostgreSQL 사용

1-1) ARRAY로 처리한 데이터들 목록 : 팀의 픽, 밴, 퍼스트xx 여부와 전체xx 수치(xx : 킬, 타워, 오브젝트 등), 처치한 드래곤 종류, 아이템 정보.

1-2) PostgreSQL의 SQL 문법이 MySQL과 꽤 달라 처음에 적응하는 데 고생함 (ㅜㅜ)

1-3) 패치 버전에 따라 DB를 분리. 10.01 ~ 10.25까지의 DB를 만들고 각 DB 안에 테이블을 넣음.

1-4) 그 와중에 10.17버전을 API가 인식하지 못해(..) 패치 시각을 기준으로 나눠서 분리

2. event item에서 item undo를 없애고, undo 동작에 해당하는 item event도 같이 지워 문제가 없도록 하였다.

2-1) 어마어마한 버그를 불러올 것이라 예상하지 못하고 시작한 작업이었다.

2-2) 일단 소모품 사용을 제외하고 아이템이 템칸에서 사라지는 모든 행위가 item destroyed로 퉁쳐져있었다.

2-2-1) 상위 아이템을 구매하면서 하위 아이템이 사라지거나, 초시계를 쓰거나(얘는 초시계가 사라지고 망가진 초시계가 생긴다), 서폿템 퀘스트 완료나, 여눈 상위템 완성 등등..

2-2-2) item undo가 일어난 시점에서 그 유저의 직전 item event를 분석하여 undo 동작에 해당하는 event를 삭제해아한다.

2-2-3) 근데 직전이 꼭 직전이 아니었다. API 처리가 개떡같아서(..) 아이템을 여러 개 구매하고 undo를 누르면 순서가 섞이거나 시점이 동시로 저장되는 문제가 있었다.

2-2-4) 구매와 판매, undo를 비교적 동시에(..?) 누르면 처리가 아예 안 되고 씹히는 케이스도 있었다.

2-2-5) 우연히 '초시계 키트'의 완성(이거도 초시계 키트는 destroyed 처리된다.)이 아이템 event와 겹치는 시점에 이루어지면 또 꼬인다.

2-2-6) 특별 예시 : 롱소드 3개를 가진 상태에서 톱날 단검을 실수로 2개 만들어서 undo를 1회 실시하면 1개의 롱소드 destroyed만 없애야 한다.
운이 나쁜 경우에 롱소드 3개 destroyed와 톱날 단검 2개 purchase가 동시로 저장되었을 수 있다. 
이 때 destroyed를 어느 purchase에 묶여있는지 다 판단을 해줘야한다.

2-3) '죽음의 무도' 아이템의 경우 10시즌 도중에 조합식이 바뀌어 버전에 따라 아이템 체계를 달리 해야했다.

2-4) 룬에 따라 아이템 창에 자동으로 추가되는 아이템도 있다. (초시계 키트, 미해분, 비스킷, 신발)

2-5) 챔피언에 따라 특정 템이 생기는 경우 예외 처리를 해줘야했다. (파이크 수당, 갱플랭크 궁강화) 

2-6) 장신구가 자동으로 사지는 경우도 처리해줘야했고, 피들스틱 장신구는 분류가 달라 별도로 처리해줘야했다. 장신구에는 전령 사용도 있다.....

2-7) 프로그래밍 상의 버그보다 API 내부 버그가 수십 배 많은 것을 보고 중소기업 게임임을 몸소 체감했다.
즉당히 대충 만든 게임이 갑자기 뜨니까 코드를 급하게 덮어쓰기로 추가한 결과가 이런게 아닐까..

2-8) 참고로 11시즌에 대대적 템개편이 이루어져 이 때 짠 코드는 쓸모가 없어졌다.
틀은 유지하면서 수정하면 되긴 하지만 상위템 하위템 구조나 신화템 등 짜임새가 바뀐게 너무 많아졌다.


3. minute 테이블에 각 분에서 플레이어가 가지고 있는 아이템 정보도 추가하였다.

4. event monster를 처리하는 과정에서도 버그가 발견되었다(.__.)

4.1) 일단 전령이 퇴근하는 것도 몬스터가 처치되는 것으로 처리되어 있다. 놀랍게도 별도의 분류조차 없다;; 0번 플레이어가 처치한 것으로 처리된다.

4.2) 샤코 궁 분신이 몬스터를 처치하면 0번 플레이어가 처치한 것으로 저장된다. 
샤코 분신이 퇴근 직전에 전령을 처치하면 퇴근한건지 처치한건지 API 자체로는 확인이 불가능하다. 아마 라이엇은 이런 문제가 존재하는지 조차 모를 것이다.

4.3) 물론 당연히 사일러스가 샤코 궁을 뺏어 사일러스의 샤코 분신이 처치해도 같은 방식으로 처리된다.
이 케이스는 수십만 개의 데이터 중 몇 회밖에 없긴 했다. 존재한다는 것 자체가 중요하지만서도..

4.4) 일단은 팀의 오브젝트 처치 횟수와 monster event를 비교하여 monster를 처치한 팀과 유저를 유추하였다.

4.5) 언제나 최악은 있는 법. 사일러스와 샤코가 상대 팀으로 존재하면서 각각 분신으로 드래곤을 1회씩 처치한 경우가 있었다.
어느 용을 누가 처치했는지 확인할 다른 방법이 있는지 알 수도 없고 마이너한 문제에 지나치게 오랜 시간을 쓸 수 없어 unclear로 처리하였다.
